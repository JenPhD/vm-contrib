<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<title>VolunteerMatch API Test</title>
		<link rel="stylesheet" href="css/blueprint/screen.css" type="text/css" media="screen, projection">
		<link rel="stylesheet" href="css/blueprint/print.css" type="text/css" media="print">	
		<!--[if lt IE 8]><link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection"><![endif]-->
		<script src="js/jquery-1.4.3.min.js"></script>
		<script src="js/jquery.base64.min.js"></script>
		<script src="js/jquery.sha256.min.js"></script>
		<style>

		</style>
		<script type="text/javascript">
			$(document).ready(function() {
				$('#api-form input[type=submit]').click(function() {  
				  var account_name = $('#api-form input#name').val();
				  var key = $('#api-form input#key').val();
				  var hello = $('#api-form input#hello').val();

				  var req = new XMLHttpRequest();


				  $.ajax({
				   url: "http://www.volunteermatch.org/api/call?action=helloWorld&query=%7B%22name%22:%22VolunteerMatch%22%7D",
				   dataType: 'json',
				   beforeSend : function (xhr) {
					        xhr.setRequestHeader('Content-Type','application/json');
					        xhr.setRequestHeader('Accept-Charset',CHARSET);
					        xhr.setRequestHeader('Authorization','WSSE profile="UsernameToken"');
					        xhr.setRequestHeader('X-WSSE','UsernameToken Username="' + ACTOR + '", ' + 
					                             'PasswordDigest="' + wsse.passwordDigest + '", ' +
					                             'Nonce="' + wsse.nonce + '", Created="' + wsse.timestamp + '", ');
				   },
				   success: function(){alert('hi');}
			 	  });
			
				  return false;
			    });
			 });
		</script>
	</head>

	<body>
		<div class="container">
			<h1>VolunteerMatch API Test</h1>
			<form id="api-form">
			 <fieldset>
			  <legend>API Credentials</legend>
			  <label for=name>Account Name</label><br/>
			  <input type=text id=name name=name class="text"><br/>
			  <label for=key>API Key</label><br/>
			  <input type=text id=key name=key class="text"><br/>
			  <label for=hello>Hello</label><br/>
			  <input type=text id=hello name=hello value="World" class="text"><br/>
 			  <input type="submit"/> 
			 </fieldset>
			</form>
			<div class="success" style="display:none">Results will appear here</div>
		</div>	
	</body>	
</html>
